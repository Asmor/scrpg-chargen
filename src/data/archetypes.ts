import { Source } from "@/types/common";
import { Archetype } from "./archetypes.types";
import { PrincipleCategory } from "./principles.types";
import { PowerCategory, QualityCategory } from "./powersQualities.types";
import { getByIdFactory } from "@/util/util";

const archetypes: Archetype[] = [
	{
		name: "Speedster",
		id: "core.archetype.speedster",
		source: Source.CORE,
		page: 73,
		roll: 1,
		principleCategory: PrincipleCategory.EXPERTISE,
		mandatoryPq: ["core.power.speed"],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.agility",
				"core.power.intangibility",
				"core.power.lightningCalculator",
				"core.power.vitality",
				PowerCategory.MOBILITY,
			] },
			{ assignablePqs: [
				QualityCategory.MENTAL,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.alwaysOnTheMove",
			"core.ability.fastFingers",
			"core.ability.nonStopAssault",
			"core.ability.blindingStrike",
			"core.ability.flurryOfFists",
			"core.ability.supersonicStreak",
			"core.ability.speedyAnalysis",
		],
	},
	{
		name: "Shadow",
		id: "core.archetype.shadow",
		source: Source.CORE,
		page: 74,
		roll: 2,
		principleCategory: PrincipleCategory.EXPERTISE,
		mandatoryPq: ["core.quality.stealth"],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.intangibility",
				"core.power.invisibility",
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.sabotage",
			"core.ability.shadowyFigure",
			"core.ability.untouchable",
			"core.ability.overcomeFromTheDarkness",
			"core.ability.diversion",
		],
	},
	{
		name: "Physical Powerhouse",
		id: "core.archetype.physicalPowerhouse",
		source: Source.CORE,
		page: 75,
		roll: 3,
		principleCategory: PrincipleCategory.EXPERTISE,
		mandatoryPq: ["core.power.strength"],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.densityControl",
				"core.power.leaping",
				"core.power.signatureWeaponry",
				"core.power.sizeChanging",
				PowerCategory.ATHLETIC,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
				QualityCategory.SOCIAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		pickGreenAsYellow: true,
		abilities: [
			"core.ability.damageResistant",
			"core.ability.frontlineFighting",
			"core.ability.galvanize",
			"core.ability.powerStrike",
			"core.ability.strengthInVictory",
		],
	},
	{
		name: "Marksman",
		id: "core.archetype.marksman",
		source: Source.CORE,
		page: 76,
		roll: 4,
		principleCategory: PrincipleCategory.RESPONSIBILITY,
		mandatoryPq: ["core.power.signatureWeaponry"],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.swinging",
				PowerCategory.ATHLETIC,
				PowerCategory.INTELLECTUAL,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 2,
		abilities: [
			"core.ability.dualWielder",
			"core.ability.load",
			"core.ability.preciseShot",
			"core.ability.sniperAim",
			"core.ability.spinShoot",
			"core.ability.calledShot",
			"core.ability.explodingAmmo",
			"core.ability.hairTriggerReflexes",
			"core.ability.ricochet",
		],
	},
	{
		name: "Blaster",
		id: "core.archetype.blaster",
		source: Source.CORE,
		page: 77,
		roll: 5,
		principleCategory: PrincipleCategory.ESOTERIC,
		mandatoryPq: [PowerCategory.ELEMENTAL_ENERGY],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureWeaponry",
				PowerCategory.ELEMENTAL_ENERGY,
				PowerCategory.MOBILITY,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.MENTAL,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 2,
		abilities: [
			"core.ability.exploitVulnerability",
			"core.ability.disablingBlast",
			"core.ability.dangerZone",
			"core.ability.preciseHit",
			"core.ability.energyImmunity",
			"core.ability.heedlessBlast",
			"core.ability.imbueWithElement",
		],
	},
	{
		name: "Close Quarters Combatant",
		id: "core.archetype.closeQuartersCombatant",
		source: Source.CORE,
		page: 78,
		roll: 6,
		principleCategory: PrincipleCategory.RESPONSIBILITY,
		mandatoryPq: ["core.quality.closeCombat"],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
				PowerCategory.MOBILITY,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
				QualityCategory.SOCIAL,
			] },
		],
		greenPicks: 3,
		yellowPicks: 1,
		pickGreenAsYellow: true,
		abilities: [
			"core.ability.defensiveStrike",
			"core.ability.dualStrike",
			"core.ability.flexibleStance",
			"core.ability.offensiveStrike",
			"core.ability.preciseStrike",
			"core.ability.throwMinion.closeQuartersCombatant",
		],
	},
	{
		name: "Armored",
		id: "core.archetype.armored",
		source: Source.CORE,
		page: 79,
		roll: 7,
		principleCategory: PrincipleCategory.EXPERTISE,
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
				PowerCategory.INTELLECTUAL,
				PowerCategory.MATERIALS,
				PowerCategory.MOBILITY,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
				QualityCategory.SOCIAL,
			] },
		],
		greenPicks: 3,
		yellowPicks: 0,
		pickGreenAsYellow: true,
		mandatoryAbilities: ["core.ability.armored"],
		abilities: [
			"core.ability.deflect",
			"core.ability.dualOffense",
			"core.ability.livingBulwark",
			"core.ability.repair",
			"core.ability.unstoppableCharge",
		],
		additionalHealthBasis: [
			PowerCategory.MATERIALS,
			PowerCategory.TECHNOLOGICAL,
		],
	},
	{
		name: "Flyer",
		id: "core.archetype.flyer",
		source: Source.CORE,
		page: 80,
		roll: 8,
		principleCategory: PrincipleCategory.IDEALS,
		mandatoryPq: [
			"core.power.flight",
			"core.power.signatureVehicle",
		],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
				PowerCategory.MOBILITY,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		pickGreenAsYellow: true,
		abilities: [
			"core.ability.aerialBombardment",
			"core.ability.aerialSurveillance",
			"core.ability.barrelRoll",
			"core.ability.diveDrop",
			"core.ability.sonicBoom",
			"core.ability.strikeSwoop",
		],
	},
	{
		name: "Elemental Manipulator",
		id: "core.archetype.elementalManipulator",
		source: Source.CORE,
		page: 81,
		roll: 9,
		principleCategory: PrincipleCategory.ESOTERIC,
		mandatoryPq: [PowerCategory.ELEMENTAL_ENERGY],
		orderedAssignablePqs: [
			{
				assignablePqs: [
					"core.power.absorption",
					"core.power.flight",
					"core.power.leaping",
					"core.power.swimming",
					"core.power.signatureVehicle",
					"core.power.signatureWeaponry",
					"core.power.transmutation",
					PowerCategory.ELEMENTAL_ENERGY,
				],
				max: 1,
			},
			{ assignablePqs: [
				"core.quality.magicalLore",
				"core.quality.science",
				QualityCategory.MENTAL,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.backlash",
			"core.ability.energyConversion",
			"core.ability.externalCombustion",
			"core.ability.focusedApparatus",
			"core.ability.damageSpike",
			"core.ability.energyAlignment",
			"core.ability.energyRedirection",
			"core.ability.liveDangerously",
		],
		todo: true,
	},
	{
		name: "Robot/Cyborg",
		id: "core.archetype.robotCyborg",
		source: Source.CORE,
		page: 82,
		roll: 10,
		principleCategory: PrincipleCategory.EXPERTISE,
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
				PowerCategory.INTELLECTUAL,
				PowerCategory.MOBILITY,
				PowerCategory.SELF_CONTROL,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
			{
				assignablePqs: [
					PowerCategory.TECHNOLOGICAL,
				],
				dice: [10],
			},
		],
		greenPicks: 2,
		yellowPicks: 1,
		pickGreenAsYellow: true,
		abilities: [
			"core.ability.adaptiveProgramming",
			"core.ability.livingArsenal",
			"core.ability.metalSkin",
			"core.ability.selfImprovement",
			"core.ability.somethingForEveryone",
		],
		additionalHealthBasis: [PowerCategory.TECHNOLOGICAL],
	},
	{
		name: "Sorcerer",
		id: "core.archetype.sorcerer",
		source: Source.CORE,
		page: 83,
		roll: 11,
		principleCategory: PrincipleCategory.ESOTERIC,
		orderedAssignablePqs: [
			{ assignablePqs: [
				PowerCategory.ELEMENTAL_ENERGY,
				PowerCategory.MATERIALS,
				PowerCategory.MOBILITY,
				PowerCategory.PSYCHIC,
				PowerCategory.SELF_CONTROL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.banish",
			"core.ability.energyJaunt",
			"core.ability.powerfulBlast",
			"core.ability.subdue",
			"core.ability.cordsOfMagic",
			"core.ability.fieldOfEnergy",
			"core.ability.livingBomb",
		],
	},
	{
		name: "Psychic",
		id: "core.archetype.psychic",
		source: Source.CORE,
		page: 84,
		roll: 12,
		principleCategory: PrincipleCategory.ESOTERIC,
		mandatoryPq: [PowerCategory.PSYCHIC],
		mandatoryMinimum: 2,
		orderedAssignablePqs: [
			{ assignablePqs: [
				PowerCategory.INTELLECTUAL,
				PowerCategory.MATERIALS,
				PowerCategory.PSYCHIC,
				PowerCategory.SELF_CONTROL,
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 2,
		abilities: [
			"core.ability.psychicAssault",
			"core.ability.psychicCoordination",
			"core.ability.psychicInsight",
			"core.ability.astralProjection",
			"core.ability.illusionaryDouble",
			"core.ability.minionSuggestion",
			"core.ability.postcognitiveUnderstanding",
			"core.ability.precognitiveAlteration",
			"core.ability.psychicAnalysis",
			"core.ability.swarm",
			"core.ability.telekineticAssault",
			"core.ability.telepathicWhammy",
		],
		todo: true, // yellow abilities have specific power requirements
	},
	{
		name: "Transporter",
		id: "core.archetype.transporter",
		source: Source.CORE,
		page: 85,
		roll: 13,
		principleCategory: PrincipleCategory.EXPERTISE,
		mandatoryPq: [
			"core.power.signatureVehicle",
			PowerCategory.MOBILITY,
		],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				PowerCategory.ATHLETIC,
				PowerCategory.MOBILITY,
				PowerCategory.PSYCHIC,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
				QualityCategory.SOCIAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		pickGreenAsYellow: true,
		abilities: [
			"core.ability.displacementAssault",
			"core.ability.hitRun",
			"core.ability.mobileAssist",
			"core.ability.mobileDodge",
			"core.ability.runDown",
		],
	},
	{
		name: "Minion-Maker",
		id: "core.archetype.minionMaker",
		source: Source.CORE,
		page: 86,
		roll: 14,
		principleCategory: PrincipleCategory.EXPERTISE,
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.duplication",
				"core.power.inventions",
				"core.power.partDetachment",
				"core.power.robotics",
				PowerCategory.ELEMENTAL_ENERGY,
				PowerCategory.MATERIALS,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.makeMinion",
			"core.ability.powerUp",
			"core.ability.minionFormation",
			"core.ability.rapidDeployment",
			"core.ability.upgradeMinion",
			"core.ability.constructionFocus",
			"core.ability.swarmCombat",
			"core.ability.sacrifice",
		],
		todo: true, // adds red ability options, minions
		complex: true,
	},
	{
		name: "Wild Card",
		id: "core.archetype.wildCard",
		source: Source.CORE,
		page: 89,
		roll: 15,
		principleCategory: PrincipleCategory.IDEALS,
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.signatureWeaponry",
				PowerCategory.ATHLETIC,
				PowerCategory.INTELLECTUAL,
				PowerCategory.MOBILITY,
				PowerCategory.SELF_CONTROL,
			] },
			{ assignablePqs: [
				QualityCategory.PHYSICAL,
				QualityCategory.SOCIAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.gimmick",
			"core.ability.multitask",
			"core.ability.surpriseResults",
			"core.ability.unknownResults",
			"core.ability.breakThe4th",
			"core.ability.danger",
			"core.ability.expectTheUnexpected",
			"core.ability.imitation",
			"core.ability.turnTheTables.wildCard",
		],
	},
	{
		name: "Form-Changer",
		id: "core.archetype.formChanger",
		source: Source.CORE,
		page: 90,
		roll: 16,
		principleCategory: PrincipleCategory.ESOTERIC,
		mandatoryPq: [PowerCategory.SELF_CONTROL],
		orderedAssignablePqs: [
			{ assignablePqs: [
				PowerCategory.ATHLETIC,
				PowerCategory.MOBILITY,
				PowerCategory.SELF_CONTROL,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.PHYSICAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			// "core.ability.xxxxxxxxxx",
		],
		todo: true, // one of the really complicated ones
		complex: true,
	},
	{
		name: "Gadgeteer",
		id: "core.archetype.gadgeteer",
		source: Source.CORE,
		page: 92,
		roll: 17,
		principleCategory: PrincipleCategory.IDENTITY,
		mandatoryPq: [PowerCategory.INTELLECTUAL],
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.signatureVehicle",
				"core.power.signatureWeaponry",
				PowerCategory.INTELLECTUAL,
				PowerCategory.MOBILITY,
				PowerCategory.PSYCHIC,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.analyzeProbabilities",
			"core.ability.analyzeWeakness",
			"core.ability.equip",
			"core.ability.helpfulInvention",
			"core.ability.helpfulAnalysis.gadgeteer",
			"core.ability.snapDecision",
			"core.ability.turnTheTables.gadgeteer",
		],
	},
	{
		name: "Reality Shaper",
		id: "core.archetype.realityShaper",
		source: Source.CORE,
		page: 93,
		roll: 18,
		principleCategory: PrincipleCategory.EXPERTISE,
		orderedAssignablePqs: [
			{ assignablePqs: [
				"core.power.densityControl",
				"core.power.intangibility",
				"core.power.invisibility",
				"core.power.speed",
				"core.power.teleportation",
				"core.power.transmutation",
				PowerCategory.INTELLECTUAL,
				PowerCategory.PSYCHIC,
				PowerCategory.TECHNOLOGICAL,
			] },
			{ assignablePqs: [
				QualityCategory.INFORMATION,
				QualityCategory.MENTAL,
			] },
		],
		greenPicks: 2,
		yellowPicks: 1,
		abilities: [
			"core.ability.negativeLikelihood",
			"core.ability.notQuiteRight",
			"core.ability.probabilityInsight",
			"core.ability.warpSpace",
			"core.ability.alternateOutcome",
			"core.ability.helpfulAnalysis.realityShaper",
			"core.ability.neverHappened",
			"core.ability.retroactiveRewrite",
		],
	},
	{
		name: "Divided",
		id: "core.archetype.divided",
		source: Source.CORE,
		page: 94,
		roll: 19,
		principleCategory: PrincipleCategory.RESPONSIBILITY,
		orderedAssignablePqs: [
			// { assignablePqs: [
			// 	"core.power.XXXXXXXXXXX",
			// 	PowerCategory.TODO,
			// ] },
			// { assignablePqs: [
			// 	"core.quality.XXXXXXXXXXX",
			// 	QualityCategory.MENTAL,
			// 	QualityCategory.PHYSICAL,
			// ] },
		],
		// greenPicks: 2,
		// yellowPicks: 1,
		abilities: [
			// "core.ability.xxxxxxxxxx",
		],
		todo: true, // extremely complicated
		complex: true,
	},
	{
		name: "Modular",
		id: "core.archetype.modular",
		source: Source.CORE,
		page: 96,
		roll: 20,
		// todo principle category is based on other archetype
		principleCategory: PrincipleCategory.RESPONSIBILITY,
		// principleCategory: PrincipleCategory.VARIES,
		orderedAssignablePqs: [
			// { assignablePqs: [
			// 	"core.power.XXXXXXXXXXX",
			// 	PowerCategory.TODO,
			// ] },
			// { assignablePqs: [
			// 	"core.quality.XXXXXXXXXXX",
			// 	QualityCategory.MENTAL,
			// 	QualityCategory.PHYSICAL,
			// ] },
		],
		// greenPicks: 2,
		// yellowPicks: 1,
		abilities: [
			// "core.ability.xxxxxxxxxx",
		],
		todo: true, // extremely complicated
		complex: true,
	},
];

export const getArchetypeById = getByIdFactory(archetypes);

export default archetypes;
